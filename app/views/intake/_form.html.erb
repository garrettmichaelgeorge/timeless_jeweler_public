<% wrapper_mappings = { boolean: :custom_boolean,
                        check_boxes: :custom_collection,
                        date: :custom_multi_select,
                        datetime: :custom_multi_select,
                        file: :custom_file,
                        radio_buttons: :custom_collection,
                        range: :custom_range,
                        time: :custom_multi_select,
                        select: :custom_multi_select } %>

<% data_reflex_submit = { reflex: 'input->ItemBuilderReflex#submit',
                          reflex_dataset: 'combined',
                          controller: 'item-builder' } %>

<% form_defaults = { input_html: { data: data_reflex_submit } } %>

<%= simple_form_for builder, wrapper_mappings: wrapper_mappings,
                             defaults: form_defaults,
                             as: :builder,
                             url: intake_path do |f| %>

  <%= f.error_notification %>

  <legend>Choose an item type</legend>
  <%= f.input :salable_type, collection: Salable::TYPES,
                        as: :radio_buttons,
                        input_html: { data: { reflex: 'change->ItemBuilderReflex#set_salable',
                                              reflex_dataset: 'combined',
                                              controller: 'item-builder' } }%>

  <section id="basic-info-section">
    <%= f.input :name %>
    <%= f.input :description %>
    <%= f.input :style_id, collection: ItemStyle.order(:name),
                        prompt: 'Please select a style...' %>
    <%= f.input :cost_cents %>
    <%= f.input :price_cents %>
    <%= f.input :notes %>
  </section>

  <%= f.button :submit, class: "btn-primary" %>
  <%= f.button :button, "Reset", type: "reset", class: "btn-outline-secondary" %>
<% end %>
