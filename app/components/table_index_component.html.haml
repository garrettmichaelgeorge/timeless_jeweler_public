/ LOCAL VARIABLES:
/ @title
/ @columns
/ @resources
/ @restful_actions
.card
  .card-header
    / Search
    %form
      .input-group.input-group-flush
        .input-group-prepend
          %span.input-group-text
            %i.fe.fe-search
        %input.form-control.list-search(type="search" placeholder="Search")

    / Dropdown
    .dropdown
      %button#bulkActionDropdown.btn.btn-sm.btn-white.dropdown-toggle(type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false") 
        Bulk action
        .dropdown-menu.dropdown-menu-right(aria-labelledby="bulkActionDropdown")
          = link_to "Hide", "#", class: "dropdown-item"
          = link_to "Delete", "#", class: "dropdown-item"

  / Table
  .table-responsive{ data: { list: "" } }
    %table.table.table-sm.table-nowrap.card-table.table-hover{ id: title }
      -# %caption.d-none= title
      %thead
        %tr
          / Table Heading
          %th= render partial: 'layouts/components/checkbox_table', locals: { id: 'all', collection: title }
          = render TableHeadingsComponent.new(columns: columns, resources: resources, restful_actions: restful_actions, labels: labels)
      / Table Body
      %tbody.list
        - @resources.each do |resource|
          / Table Row
          %tr
            / Checkbox column
            %td= render partial: 'layouts/components/checkbox_table', locals: { id: resource.id, collection: resource }
            / Attribute columns
            -# = render_columns
            - @columns.each_with_index do |column, index|
              %td{class: list_js_values[index]}= render_column(resource, column)
            -# %td= link_to 'Show', resource if column_for_show?
            -# %td= link_to 'Edit', edit_path(resource) if column_for_edit?
            %td= link_to 'Edit', url_for(only_path: true, action: 'edit', id: resource.id) if column_for_edit?
            %td= link_to 'Delete', resource, method: :delete, data: { confirm: 'Are you sure?' }, class: "danger" if column_for_destroy?